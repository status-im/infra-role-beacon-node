---
- name: 'Create compose file: {{ beacon_node_cont_name }}'
  copy:
    dest: '{{ beacon_node_cont_vol }}/docker-compose.yml'
    content: '{{ beacon_node_compose | to_nice_yaml }}'
    owner: dockremap
    group: docker
    mode: 0644
  register: beacon_node_compose_file

- name: 'Create container: {{ beacon_node_cont_name }}'
  docker_compose:
    project_src: '{{ beacon_node_cont_vol }}'
    recreate: '{{ compose_recreate | ternary("always", "smart") }}'
    pull: true
